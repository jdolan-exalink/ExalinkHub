[general]
# Puerto HTTP del servicio (salud, logs, listados). Por defecto 2221
http_port = 2221
# Días de retención de medios (carpetas por fecha). Por defecto 30
retention_days = 30

# Definición de servidores (puede haber múltiples secciones server:<nombre>)
# Parámetros soportados por servidor:
# mqtt_broker, mqtt_port, mqtt_user, mqtt_pass
# frigate_url, frigate_token (opcional si Frigate requiere token)
# mqtt_topic (default: frigate/events)
# sftp_host, sftp_port, sftp_user, sftp_pass
# sftp_plate_path_template: ruta remota con placeholders {event_id} y {camera}

[server:helvecia]
mqtt_broker = 10.147.18.148
mqtt_port   = 1883
mqtt_user   = 
mqtt_pass   = 
frigate_url = http://10.147.18.148:5000
# Autenticación contra Frigate:
#   frigate_auth = bearer | basic | header
#   - bearer: usa frigate_token
#   - basic: usa frigate_user / frigate_pass
#   - header: envía cabecera personalizada (frigate_header_name / frigate_header_value)
frigate_auth = bearer
frigate_token = 
frigate_user = 
frigate_pass = 
frigate_header_name = 
frigate_header_value = 
mqtt_topic  = frigate/events
sftp_host   = 10.147.18.148
sftp_port   = 22
sftp_user   = frigate
sftp_pass   = frigate123
# Raíz configurable (por defecto /mnt/cctv/clips/lpr)
sftp_plate_root = /mnt/cctv/clips/lpr
# Template admite {event_id}, {camera}, {root}
sftp_plate_path_template = {root}/{camera}/{event_id}.jpg

# Descarga de CLIP (por defecto via API). Para usar SFTP:
#   sftp_clip_mode = sftp
#   sftp_clip_root = /mnt/cctv/clips/lpr
#   sftp_clip_path_template = {root}/{camera}/
# Si el template resuelve a una carpeta, se elegirá el .mp4 del evento si coincide con {event_id}
# y si no, el .mp4 más reciente por fecha de modificación.
sftp_clip_mode = api
sftp_clip_root = /mnt/cctv/clips/lpr
sftp_clip_path_template = {root}/{camera}/
